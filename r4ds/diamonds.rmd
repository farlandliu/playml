---
title: "diamonds"
author: "farland"
date: "March 23, 2019"
output:
  word_document: default
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(ggplot2)
library(tidyverse)
```


## Exploratory data analysis for diamonds

### data summary
```{r}
data("diamonds")
dim(diamonds)
summary(diamonds)
```
```{r}
str(diamonds)
```

### diamonds plot

**view frequency by cut**
```{r}
gg <- ggplot(data = diamonds)

gg + geom_bar(mapping = aes(x=cut))
```

**view freq by color**
```{r}
gg + geom_bar(mapping = aes(color))
```

**view freq by clarity**
```{r}
gg + geom_bar(mapping = aes(clarity))
```

**view the distribution of price
```{r}
gg + geom_histogram(mapping = aes(price), binwidth  = 100)
```

***conclude***
- most are cheap diamond under 2000
- why are there a gap near 1000?
```{r}
# zoom in price near 2000
gg + geom_histogram(mapping = aes(price), binwidth  = 100) +
 coord_cartesian(xlim = c(0, 5000))
```



## diamonds question

### phase one

- Which values are the most common? Why?
- Which values are rare? Why? Does that match your expectations?
- Can you see any unusual patterns? What might explain them?

```{r}
gg + geom_histogram(mapping = aes(carat), binwidth = 0.01)
```

for above plot:
- Why are there more diamonds at whole carats and common fractions of carats?
- Why are there more diamonds slightly to the right of each peak than there are slightly to the left of each peak?
- Why are there no diamonds bigger than 3 carats?
- How are the observations within each cluster similar to each other?
- How are the observations in separate clusters different from each other?
- How can you explain or describe the clusters?
- Why might the appearance of clusters be misleading?


### box plot by cut and price
```{r}
ggplot(data = diamonds, mapping = aes(x = cut, y = price)) + 
  geom_boxplot()
```

```{r}
ggplot(data = diamonds) +
  geom_count(mapping = aes(x = cut, y = color))
```

```{r}
ggplot(data = diamonds) +
  geom_point(mapping = aes(x = carat, y = price))
```

```{r}
gg + geom_bin2d(mapping = aes(x = carat, y = price))
```


```{r}
ggplot(data = diamonds, mapping = aes(x = carat, y = price)) + 
  geom_boxplot(mapping = aes(group = cut_width(carat, 0.1)))
```

